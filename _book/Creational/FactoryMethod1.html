
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Factory Method (1) Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="FactoryMethod2.html" />
    
    
    <link rel="prev" href="SingletonPattern2.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Concept/">
            
                <a href="../Concept/">
            
                    
                    Concept
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Concept/Concept1.html">
            
                <a href="../Concept/Concept1.html">
            
                    
                    Design Pattern Concept (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Concept/Concept2.html">
            
                <a href="../Concept/Concept2.html">
            
                    
                    Design Pattern Concept (2)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Principle/">
            
                <a href="../Principle/">
            
                    
                    Principle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Principle/SRP.html">
            
                <a href="../Principle/SRP.html">
            
                    
                    Single Responsiblity Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../Principle/OCP.html">
            
                <a href="../Principle/OCP.html">
            
                    
                    Open Close Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../Principle/LSP.html">
            
                <a href="../Principle/LSP.html">
            
                    
                    Liskov Substitution Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../Principle/DIP.html">
            
                <a href="../Principle/DIP.html">
            
                    
                    Dependency Inversion Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../Principle/ISP.html">
            
                <a href="../Principle/ISP.html">
            
                    
                    Interface Segregation Principle
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="CreationalPatterns.html">
            
                <a href="CreationalPatterns.html">
            
                    
                    Creational Pattern
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="SingletonPattern1.html">
            
                <a href="SingletonPattern1.html">
            
                    
                    Singleton (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="SingletonPattern2.html">
            
                <a href="SingletonPattern2.html">
            
                    
                    Singleton (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.3" data-path="FactoryMethod1.html">
            
                <a href="FactoryMethod1.html">
            
                    
                    Factory Method (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="FactoryMethod2.html">
            
                <a href="FactoryMethod2.html">
            
                    
                    Factory Method (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="AbstractFactory.html">
            
                <a href="AbstractFactory.html">
            
                    
                    Abstrarct Factory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="Prototype1.html">
            
                <a href="Prototype1.html">
            
                    
                    Prototype (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="Prototype2.html">
            
                <a href="Prototype2.html">
            
                    
                    Prototype (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="Prototype3.html">
            
                <a href="Prototype3.html">
            
                    
                    Prototype (3)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Factory Method (1)</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="factory-method-pattern-1">Factory Method Pattern (1)</h2>
<h3 id="intent">Intent</h3>
<blockquote>
<p>Define an interface for creating an object, but let subclasses decide which class to instantiate. Factory Method lets a class defer instantiation to subclasses.</p>
</blockquote>
<h3 id="motivation">Motivation</h3>
<p>The disadvantage of implementing Simple Factory Pattern is that when add a new product type to the system, the simple factory must be modified which deviate Open Close Principle. Additionally, when implementing simple factory pattern, all the product will be created by the same factory so the business logic of the factory class will be more complicated which cause a high coupling between factory class and concrete product class. The Factory Method pattern offers a solution. It encapsulates the knowledge of
which document subclass to create and moves this knowledge out of the framework.</p>
<p>Simple Factory Pattern is introduced in the following content.</p>
<h4 id="simple-factory-pattern-code-example">Simple Factory Pattern (Code example)</h4>
<h4 id="structure">Structure</h4>
<p><img src="Images/SimpleFactoryPattern.svg" alt="Simple Factory"></p>
<h4 id="code-sample">Code Sample</h4>
<p>configWeapon.xml</p>
<pre><code class="lang-xml"><span class="php"><span class="hljs-meta">&lt;?</span>xml version=<span class="hljs-string">&quot;1.0&quot;</span><span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">weapon</span>&gt;</span>Elvish<span class="hljs-tag">&lt;/<span class="hljs-name">weapon</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
</code></pre>
<p>XMLUtilWeapon.java</p>
<pre><code class="lang-java"><span class="hljs-keyword">import</span> javax.xml.parsers.*;
<span class="hljs-keyword">import</span> org.w3c.dom.*;
<span class="hljs-keyword">import</span> org.xml.sax.SAXException;
<span class="hljs-keyword">import</span> java.io.*;

<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">XMLUtilWeapon</span> </span>{
    <span class="hljs-comment">// Extract the weapon name from the xml configure file</span>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-title">getWeaponType</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">try</span> {
      <span class="hljs-comment">// Create document object</span>
            DocumentBuilderFactory dFactory = DocumentBuilderFactory.newInstance();
            DocumentBuilder builder = dFactory.newDocumentBuilder();
            Document doc;                            
            doc = builder.parse(<span class="hljs-keyword">new</span> File(<span class="hljs-string">&quot;configWeapon.xml&quot;</span>)); 

            <span class="hljs-comment">// Get node that contains the weapon name</span>
            NodeList nl = doc.getElementsByTagName(<span class="hljs-string">&quot;weapon&quot;</span>);
            Node classNode = nl.item(<span class="hljs-number">0</span>).getFirstChild();
            String weapon = classNode.getNodeValue().trim();
            <span class="hljs-keyword">return</span> weapon;
    } <span class="hljs-keyword">catch</span> (Exception e) {
          e.printStackTrace();
                   <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;
    } 
  }
}
</code></pre>
<p>Weapon.java</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">interface</span> <span class="hljs-title">Weapon</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">attack</span><span class="hljs-params">()</span></span>;
}
</code></pre>
<p>ElvishWeapon.java</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ElvishWeapon</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Weapon</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">attack</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Do something...</span>
  }
}
</code></pre>
<p>OrcishWeapon.java</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrcishWeapon</span> <span class="hljs-keyword">implements</span> <span class="hljs-title">Weapon</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">attack</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Do something...</span>
  }
}
</code></pre>
<p>BlackSimth.java</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BlackSmith</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Weapon <span class="hljs-title">manufactureWeapon</span><span class="hljs-params">(String weapon)</span> <span class="hljs-keyword">throws</span> Exception </span>{
    <span class="hljs-keyword">if</span>(weapon.equalsIngoreCase(<span class="hljs-string">&quot;Elvish&quot;</span>)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> ElvishWeapon();
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(weapon.equalsIngoreCase(<span class="hljs-string">&quot;Orcish&quot;</span>)) {
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> OrcishWeapon();
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Exception(<span class="hljs-string">&quot;Weapon is not exist!&quot;</span>);
    }
  } 
}
</code></pre>
<p>Elf.java</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Elf</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(String args[])</span> </span>{
    <span class="hljs-keyword">try</span> {
      String type = XMLUtilWeapon.getWeaponType();
      Weapon weapon = BlackSmith.manufactureWeapon(type);
      weapon.attack();
    } <span class="hljs-keyword">catch</span> (Exception e) {
      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> ...</span>
    }
  }
}
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="SingletonPattern2.html" class="navigation navigation-prev " aria-label="Previous page: Singleton (2)">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="FactoryMethod2.html" class="navigation navigation-next " aria-label="Next page: Factory Method (2)">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Factory Method (1)","level":"1.4.3","depth":2,"next":{"title":"Factory Method (2)","level":"1.4.4","depth":2,"path":"Creational/FactoryMethod2.md","ref":"Creational/FactoryMethod2.md","articles":[]},"previous":{"title":"Singleton (2)","level":"1.4.2","depth":2,"path":"Creational/SingletonPattern2.md","ref":"Creational/SingletonPattern2.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Creational/FactoryMethod1.md","mtime":"2017-12-20T06:13:18.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-08-28T01:05:10.034Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

