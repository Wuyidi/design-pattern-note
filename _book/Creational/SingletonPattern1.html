
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Singleton (1) Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="SingletonPattern2.html" />
    
    
    <link rel="prev" href="CreationalPatterns.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Concept/">
            
                <a href="../Concept/">
            
                    
                    Concept
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../Concept/Concept1.html">
            
                <a href="../Concept/Concept1.html">
            
                    
                    Design Pattern Concept (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../Concept/Concept2.html">
            
                <a href="../Concept/Concept2.html">
            
                    
                    Design Pattern Concept (2)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Principle/">
            
                <a href="../Principle/">
            
                    
                    Principle
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Principle/SRP.html">
            
                <a href="../Principle/SRP.html">
            
                    
                    Single Responsiblity Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../Principle/OCP.html">
            
                <a href="../Principle/OCP.html">
            
                    
                    Open Close Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../Principle/LSP.html">
            
                <a href="../Principle/LSP.html">
            
                    
                    Liskov Substitution Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../Principle/DIP.html">
            
                <a href="../Principle/DIP.html">
            
                    
                    Dependency Inversion Principle
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../Principle/ISP.html">
            
                <a href="../Principle/ISP.html">
            
                    
                    Interface Segregation Principle
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="CreationalPatterns.html">
            
                <a href="CreationalPatterns.html">
            
                    
                    Creational Pattern
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.4.1" data-path="SingletonPattern1.html">
            
                <a href="SingletonPattern1.html">
            
                    
                    Singleton (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="SingletonPattern2.html">
            
                <a href="SingletonPattern2.html">
            
                    
                    Singleton (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="FactoryMethod1.html">
            
                <a href="FactoryMethod1.html">
            
                    
                    Factory Method (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="FactoryMethod2.html">
            
                <a href="FactoryMethod2.html">
            
                    
                    Factory Method (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="AbstractFactory.html">
            
                <a href="AbstractFactory.html">
            
                    
                    Abstrarct Factory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="Prototype1.html">
            
                <a href="Prototype1.html">
            
                    
                    Prototype (1)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="Prototype2.html">
            
                <a href="Prototype2.html">
            
                    
                    Prototype (2)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="Prototype3.html">
            
                <a href="Prototype3.html">
            
                    
                    Prototype (3)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Singleton (1)</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="singleton-pattern-1">Singleton Pattern (1)</h2>
<h3 id="intent">Intent</h3>
<blockquote>
<p>Ensure a class only has one instance, and provide a global point of access to it.</p>
</blockquote>
<h3 id="explanation">Explanation</h3>
<h4 id="real-world-example">Real world example</h4>
<p>It&apos;s important for some classes to have exactly one instance. There should be only one file system and one window manager. An accounting system will be dedicated to serving one company.</p>
<h4 id="structure">Structure</h4>
<p><img src="Images/SingletonStructure.svg" alt="Singleton Structure"></p>
<h4 id="programmatic-code-sample">Programmatic code sample</h4>
<p>Joshua Bloch, Effective Java 2nd Edition p.18</p>
<blockquote>
<p>A single-element enum type is the best way to implement a singleton</p>
</blockquote>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> Maze {
  <span class="hljs-comment">// Enum instances/values should be declared first.</span>
  <span class="hljs-comment">// Use INSTANCE(arg1, ..) if constructor accepts agruments.</span>
  INSTANCE;

  <span class="hljs-comment">// Constructor can accept arguments as well.</span>
  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Maze</span><span class="hljs-params">()</span> </span>{
  }
}
</code></pre>
<p>Usage:</p>
<pre><code class="lang-java">Maze foo = Maze.INSTANCE;
</code></pre>
<p>Lazy initialization</p>
<pre><code class="lang-java"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Singleton</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> Singleton singleton = <span class="hljs-keyword">null</span>;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singleton <span class="hljs-title">getInstance</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">if</span>(singleton == <span class="hljs-keyword">null</span>){
            <span class="hljs-keyword">synchronized</span>(Singleton.class){
                <span class="hljs-keyword">if</span>(singleton == <span class="hljs-keyword">null</span>){
                    singleton = <span class="hljs-keyword">new</span> Singleton();
                }
            }
        }
        <span class="hljs-keyword">return</span> singleton;
    }    
}
</code></pre>
<p>Initialization on Demand Holder (IoDH)</p>
<pre><code class="lang-java"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Singleton</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-title">Singleton</span><span class="hljs-params">()</span> </span>{
  }

  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HolderClass</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> Singleton instance = <span class="hljs-keyword">new</span> Singleton();
  }

  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Singleton <span class="hljs-title">getInstance</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> HolderClass.instance;
  }
}
</code></pre>
<h3 id="applicability">Applicability</h3>
<p>Use the singleton pattern when</p>
<ul>
<li><p>there must be exactly one instance of a class, and it must be accessible to clients from a well-known access point</p>
</li>
<li><p>when the sole instance should be extensible by subclassing, and clients should be able to use an extended instance without modifying their code</p>
<p>&#x200B;</p>
</li>
</ul>
<h3 id="typical-use-case">Typical Use Case</h3>
<ul>
<li>the logging class</li>
<li>managing a connection to a database</li>
<li>file manager</li>
</ul>
<h3 id="real-world-examples">Real world examples</h3>
<ul>
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Runtime.html#getRuntime%28%29" target="_blank">java.lang.Runtime#getRuntime()</a></li>
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/awt/Desktop.html#getDesktop--" target="_blank">java.awt.Desktop#getDesktop()</a></li>
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/System.html#getSecurityManager--" target="_blank">java.lang.System#getSecurityManager()</a></li>
</ul>
<h3 id="consequence">Consequence</h3>
<ul>
<li>Violates Single Responsibility Principle (SRP) by controlling their own creation and lifecycle.</li>
<li>Encourages using a global shared instance which prevents an object and resources used by this object from being deallocated.</li>
<li>Creates tightly coupled code. The clients of the Singleton become difficult to test.<ul>
<li>Singletons can hide dependencies. One of the features of an efficient system architecture is minimizing dependencies between classes. This will in turn help you while conducting unit tests and while isolating any part of the program to a separate assembly. A singleton will make you sacrifice this feature in your application. Since the object creation part is invisible to us, we cannot expect the singleton constructor to accept any parameters. This setback may look unimportant on the first glance but as the software complexity increases, it will limit the flexibility of the program.</li>
</ul>
</li>
<li>Singleton classes cannot be subclassed.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="CreationalPatterns.html" class="navigation navigation-prev " aria-label="Previous page: Creational Pattern">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="SingletonPattern2.html" class="navigation navigation-next " aria-label="Next page: Singleton (2)">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Singleton (1)","level":"1.4.1","depth":2,"next":{"title":"Singleton (2)","level":"1.4.2","depth":2,"path":"Creational/SingletonPattern2.md","ref":"Creational/SingletonPattern2.md","articles":[]},"previous":{"title":"Creational Pattern","level":"1.4","depth":1,"path":"Creational/CreationalPatterns.md","ref":"Creational/CreationalPatterns.md","articles":[{"title":"Singleton (1)","level":"1.4.1","depth":2,"path":"Creational/SingletonPattern1.md","ref":"Creational/SingletonPattern1.md","articles":[]},{"title":"Singleton (2)","level":"1.4.2","depth":2,"path":"Creational/SingletonPattern2.md","ref":"Creational/SingletonPattern2.md","articles":[]},{"title":"Factory Method (1)","level":"1.4.3","depth":2,"path":"Creational/FactoryMethod1.md","ref":"Creational/FactoryMethod1.md","articles":[]},{"title":"Factory Method (2)","level":"1.4.4","depth":2,"path":"Creational/FactoryMethod2.md","ref":"Creational/FactoryMethod2.md","articles":[]},{"title":"Abstrarct Factory","level":"1.4.5","depth":2,"path":"Creational/AbstractFactory.md","ref":"Creational/AbstractFactory.md","articles":[]},{"title":"Prototype (1)","level":"1.4.6","depth":2,"path":"Creational/Prototype1.md","ref":"Creational/Prototype1.md","articles":[]},{"title":"Prototype (2)","level":"1.4.7","depth":2,"path":"Creational/Prototype2.md","ref":"Creational/Prototype2.md","articles":[]},{"title":"Prototype (3)","level":"1.4.8","depth":2,"path":"Creational/Prototype3.md","ref":"Creational/Prototype3.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Creational/SingletonPattern1.md","mtime":"2017-12-20T06:47:25.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-08-28T01:05:10.034Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

